const S="modulepreload",E=function(f){return"/"+f},y={},v=function(m,c,l){let h=Promise.resolve();if(c&&c.length>0){let r=function(n){return Promise.all(n.map(s=>Promise.resolve(s).then(o=>({status:"fulfilled",value:o}),o=>({status:"rejected",reason:o}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),u=t?.nonce||t?.getAttribute("nonce");h=r(c.map(n=>{if(n=E(n),n in y)return;y[n]=!0;const s=n.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${o}`))return;const e=document.createElement("link");if(e.rel=s?"stylesheet":S,s||(e.as="script"),e.crossOrigin="",e.href=n,u&&e.setAttribute("nonce",u),document.head.appendChild(e),s)return new Promise((a,g)=>{e.addEventListener("load",a),e.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})}))}function d(r){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=r,window.dispatchEvent(t),!t.defaultPrevented)throw r}return h.then(r=>{for(const t of r||[])t.status==="rejected"&&d(t.reason);return m().catch(d)})},L={ranking:{pageLength:.1,termFrequency:.1,termSaturation:2,termSimilarity:9}};class b extends HTMLElement{pagefindUI;constructor(){super();const m=this.querySelector("button[data-open-modal]"),c=this.querySelector("button[data-close-modal]"),l=this.querySelector("dialog"),h=this.querySelector(".dialog-frame"),d=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!h.contains(e.target))&&t()},r=e=>{l.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",d)},t=()=>l.close();m.addEventListener("click",r),m.disabled=!1,c.addEventListener("click",t),l.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",d)}),window.addEventListener("keydown",e=>{(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"&&(l.open?t():r(),e.preventDefault())});let u={};try{u=JSON.parse(this.dataset.translations||"{}")}catch{}const o=this.dataset.stripTrailingSlash!==void 0?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(a=>setTimeout(a,1)))(async()=>{const{PagefindUI:a}=await v(async()=>{const{PagefindUI:i}=await import("./ui-core.MQvWZJOe.js");return{PagefindUI:i}},[]);this.pagefindUI=new a({...L,element:"#starlight__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:u,showSubResults:!0,processResult:i=>{i.url=o(i.url),i.sub_results=i.sub_results.map(p=>(p.url=o(p.url),p))}});const w=new URLSearchParams(window.location.search).get("q");w&&(r(),this.pagefindUI.triggerSearch(w))})})}}customElements.define("site-search",b);export{v as _};
